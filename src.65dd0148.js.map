{"version":3,"sources":["index.js"],"names":["baseUrl","reqServer","url","method","data","options","headers","fetch","body","JSON","stringify","then","res","json","console","log","refs","listNode","document","querySelector","form","renderPostList","markup","map","post","id","title","text","author","join","innerHTML","addEventListener","e","code","shiftKey","elements","value","reset"],"mappings":";;;AAwCA,aAxCA,QAAA,oBAEA,MAAMA,EAAU,wBAEhB,SAASC,EAAUC,EAAKC,EAAS,MAAOC,EAAO,IACvCC,MAAAA,EAAU,CACdF,OAAAA,EACAG,QAAS,CACS,eAAA,oCAObC,MAHQ,QAAXJ,GAA+B,WAAXA,IACtBE,EAAQG,KAAOC,KAAKC,UAAUN,IAEzBG,MAAMP,EAAUE,EAAKG,GAASM,KAAKC,GAAOA,EAAIC,QAEvDZ,EAAU,UAAUU,KAAKP,GAAQU,QAAQC,IAAIX,IAE7C,MAAMY,EAAO,CACXC,SAAUC,SAASC,cAAc,cACjCC,KAAMF,SAASC,cAAc,iBAG/B,SAASE,IACPpB,EAAU,UAAUU,KAAKP,IACjBkB,MAAAA,EAASlB,EACZmB,IACCC,mBAAwBA,EAAKC,qBACvBD,EAAKE,0BACNF,EAAKG,4BACDH,EAAKI,2BAEfC,KAAK,IACRb,EAAKC,SAASa,UAAYR,IAI9BD,IAEAL,EAAKI,KAAKW,iBAAiB,UAAWC,IAChCA,GAAW,UAAXA,EAAEC,MAAoBD,EAAEE,SAAU,CACpClB,EAAKI,KAAKe,SAMVlC,EAAU,SAAU,OALP,CACX0B,KAAMX,EAAKI,KAAKe,SAASR,KAAKS,MAC9BR,OAAQZ,EAAKI,KAAKe,SAASP,OAAOQ,MAClCV,MAAOV,EAAKI,KAAKe,SAAST,MAAMU,QAEAzB,KAAKP,IACrCY,EAAKI,KAAKiB,QACVhB","file":"src.65dd0148.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst baseUrl = 'http://localhost:3000';\n\nfunction reqServer(url, method = 'GET', data = {}) {\n  const options = {\n    method,\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  };\n\n  if (method !== 'GET' && method !== 'DELETE') {\n    options.body = JSON.stringify(data);\n  }\n  return fetch(baseUrl + url, options).then(res => res.json());\n}\nreqServer('/posts').then(data => console.log(data));\n\nconst refs = {\n  listNode: document.querySelector('.post-list'),\n  form: document.querySelector('#create-post'),\n};\n\nfunction renderPostList() {\n  reqServer('/posts').then(data => {\n    const markup = data\n      .map(\n        post => `<li data-id=\"${post.id}\">\n        <h3>${post.title}</h3>\n        <p>${post.text}</p>\n        <small>${post.author}</small></p></li>`,\n      )\n      .join('');\n    refs.listNode.innerHTML = markup;\n  });\n}\n\nrenderPostList();\n\nrefs.form.addEventListener('keydown', e => {\n  if (e.code === 'Enter' && e.shiftKey) {\n    refs.form.elements;\n    const data = {\n      text: refs.form.elements.text.value,\n      author: refs.form.elements.author.value,\n      title: refs.form.elements.title.value,\n    };\n    reqServer('/posts', 'POST', data).then(data => {\n      refs.form.reset();\n      renderPostList();\n    });\n  }\n});\n"]}